{"remainingRequest":"/home/runner/work/CF12_228142/CF12_228142/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/runner/work/CF12_228142/CF12_228142/node_modules/ecored-base-pkg/src/components/ImagenInfografica.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/runner/work/CF12_228142/CF12_228142/node_modules/ecored-base-pkg/src/components/ImagenInfografica.vue","mtime":499162500000},{"path":"/home/runner/work/CF12_228142/CF12_228142/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/runner/work/CF12_228142/CF12_228142/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/runner/work/CF12_228142/CF12_228142/node_modules/babel-loader/lib/index.js","mtime":456789000000},{"path":"/home/runner/work/CF12_228142/CF12_228142/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/runner/work/CF12_228142/CF12_228142/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBjb21wb25lbnRTbG90TWl4aW5zIGZyb20gJy4uL21peGlucy9jb21wb25lbnRTbG90TWl4aW5zJwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0ltYWdlbkluZm9ncmFmaWNhJywKICBtaXhpbnM6IFtjb21wb25lbnRTbG90TWl4aW5zXSwKICBkYXRhOiAoKSA9PiAoewogICAgZmlyc3RTZWxlY3Rpb246IGZhbHNlLAogICAgc2hvd0luZGljYXRvcjogdHJ1ZSwKICB9KSwKICBjb21wdXRlZDogewogICAgZmlyc3RFbGVtZW50KCkgewogICAgICByZXR1cm4gdGhpcy5lbGVtZW50cy5sZW5ndGggJiYgdGhpcy5lbGVtZW50c1swXQogICAgfSwKICB9LAogIHdhdGNoOiB7CiAgICBzZWxlY3RlZCgpIHsKICAgICAgaWYgKHRoaXMuc2hvd0luZGljYXRvcikgewogICAgICAgIHRoaXMuc2hvd0luZGljYXRvciA9IGZhbHNlCiAgICAgIH0KICAgIH0sCiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRDYXJkQ29yZHMoY2FyZElkKSB7CiAgICAgIGNvbnN0IHJlZiA9ICdjYXJkLXJlZi0nICsgY2FyZElkCiAgICAgIGlmICghKHJlZiBpbiB0aGlzLiRyZWZzKSkgewogICAgICAgIHJldHVybiBbeyB0b3A6IDAgfSwgeyBsZWZ0OiAwIH1dCiAgICAgIH0KCiAgICAgIGNvbnN0IGN1cnJlbnRDYXJkID0gdGhpcy5lbGVtZW50cy5maW5kKGNhcmQgPT4gY2FyZC5pZCA9PT0gY2FyZElkKQogICAgICBjb25zdCBpbWdFbGVtZW50ID0gdGhpcy4kcmVmc1snaW1nLXJlZi0nICsgdGhpcy5tYWluSWRdCiAgICAgIGNvbnN0IGltZ09iaiA9IHsKICAgICAgICB3OiBpbWdFbGVtZW50LmNsaWVudFdpZHRoLAogICAgICAgIGg6IGltZ0VsZW1lbnQuY2xpZW50SGVpZ2h0LAogICAgICB9CiAgICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gdGhpcy4kcmVmc1tyZWZdWzBdCiAgICAgIGNvbnN0IGNhcmRPYmogPSB7CiAgICAgICAgeDogcGFyc2VJbnQoY3VycmVudENhcmQueCwgMTApLAogICAgICAgIHk6IHBhcnNlSW50KGN1cnJlbnRDYXJkLnksIDEwKSwKICAgICAgICB3OiBjYXJkRWxlbWVudC5jbGllbnRXaWR0aCwKICAgICAgICBoOiBjYXJkRWxlbWVudC5jbGllbnRIZWlnaHQsCiAgICAgIH0KCiAgICAgIGNvbnN0IGNhcmRQb3NZID0gKGNhcmRPYmoueSAvIDEwMCkgKiBpbWdPYmouaAogICAgICBjb25zdCBjYXJkUG9zWCA9IChjYXJkT2JqLnggLyAxMDApICogaW1nT2JqLncKCiAgICAgIGNvbnN0IGZpbmFsT2JqID0gW10KCiAgICAgIGlmIChjYXJkUG9zWSArIGNhcmRPYmouaCA+IGltZ09iai5oKSB7CiAgICAgICAgZmluYWxPYmoucHVzaCh7IGJvdHRvbTogMCB9KQogICAgICB9IGVsc2UgewogICAgICAgIGZpbmFsT2JqLnB1c2goeyB0b3A6IGN1cnJlbnRDYXJkLnkgfSkKICAgICAgfQoKICAgICAgaWYgKGNhcmRQb3NYICsgY2FyZE9iai53ID4gaW1nT2JqLncpIHsKICAgICAgICBmaW5hbE9iai5wdXNoKHsgcmlnaHQ6IDAgfSkKICAgICAgfSBlbHNlIHsKICAgICAgICBmaW5hbE9iai5wdXNoKHsgbGVmdDogY3VycmVudENhcmQueCB9KQogICAgICB9CgogICAgICByZXR1cm4gZmluYWxPYmoKICAgIH0sCiAgfSwKfQo="},{"version":3,"sources":["ImagenInfografica.vue"],"names":[],"mappings":";AAmCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"ImagenInfografica.vue","sourceRoot":"node_modules/ecored-base-pkg/src/components","sourcesContent":["<template lang=\"pug\">\n.img-infografica\n  .img-infografica__img(:ref=\"'img-ref-'+mainId\")\n    slot(name=\"imagen\")\n  .img-infografica__content(v-if=\"elements.length\")\n    .img-infografica__item(\n        v-for=\"(item, index) in elements\"\n        :key=\"'img-infografica-btn-'+item.id\"\n        :style=\"[{top: item.y},{left: item.x}]\"\n        @mouseover=\"selected = item.id\"\n        @mouseleave=\"selected = 0\"\n      )\n      .img-infografica__item__dot\n      .img-infografica__item__numero(v-if=\"item.hasOwnProperty('numero')\") {{item.numero}}\n    .img-infografica__card(\n      v-for=\"item in elements\"\n      :key=\"'img-infografica-card-'+item.id\"\n      :ref=\"'card-ref-'+item.id\"\n      :style=\"getCardCords(item.id)\"\n      :class=\"{'img-infografica__card--selected' : selected === item.id}\"\n      @mouseover=\"selected = item.id\"\n      @mouseleave=\"selected = 0\"\n      v-child=\"item.elm\"\n    )\n    .img-infografica__indicador(\n      v-if=\"firstElement && showIndicator\"\n      :style=\"[{top: firstElement.y},{left: firstElement.x}]\"\n    )\n      .indicador--hover\n\n  .hidden-slot\n    slot\n</template>\n\n<script>\nimport componentSlotMixins from '../mixins/componentSlotMixins'\nexport default {\n  name: 'ImagenInfografica',\n  mixins: [componentSlotMixins],\n  data: () => ({\n    firstSelection: false,\n    showIndicator: true,\n  }),\n  computed: {\n    firstElement() {\n      return this.elements.length && this.elements[0]\n    },\n  },\n  watch: {\n    selected() {\n      if (this.showIndicator) {\n        this.showIndicator = false\n      }\n    },\n  },\n  methods: {\n    getCardCords(cardId) {\n      const ref = 'card-ref-' + cardId\n      if (!(ref in this.$refs)) {\n        return [{ top: 0 }, { left: 0 }]\n      }\n\n      const currentCard = this.elements.find(card => card.id === cardId)\n      const imgElement = this.$refs['img-ref-' + this.mainId]\n      const imgObj = {\n        w: imgElement.clientWidth,\n        h: imgElement.clientHeight,\n      }\n      const cardElement = this.$refs[ref][0]\n      const cardObj = {\n        x: parseInt(currentCard.x, 10),\n        y: parseInt(currentCard.y, 10),\n        w: cardElement.clientWidth,\n        h: cardElement.clientHeight,\n      }\n\n      const cardPosY = (cardObj.y / 100) * imgObj.h\n      const cardPosX = (cardObj.x / 100) * imgObj.w\n\n      const finalObj = []\n\n      if (cardPosY + cardObj.h > imgObj.h) {\n        finalObj.push({ bottom: 0 })\n      } else {\n        finalObj.push({ top: currentCard.y })\n      }\n\n      if (cardPosX + cardObj.w > imgObj.w) {\n        finalObj.push({ right: 0 })\n      } else {\n        finalObj.push({ left: currentCard.x })\n      }\n\n      return finalObj\n    },\n  },\n}\n</script>\n\n<style lang=\"sass\"></style>\n"]}]}